[SUBROUTINE]
icon = taper-odl.png
name = _("Taper ODL")
type = taper_odl
help = _("<b>Machine a taper by length, small and large diameter</b>&#10;Cutter orientation should be 1, 2, 9 or None")
order = act hx b_x e_x hz b_z e_z hf fin

[PARAM_ACT]
name = _("Active")
icon = enable.png
type = bool
value = 1

[PARAM_HX]
name = _("X axis")
type = sub-header

[PARAM_B_X]
name = _("Begin")
type = float
icon = x.png
value = 1.0
metric_value = 25.0
minimum_value = 0.0
no_zero = 1
header = hx

[PARAM_E_X]
name = _("End")
type = float
icon = x-end.png
value = 0.9
metric_value = 22.0
minimum_value = 0.0
header = hx

[PARAM_HZ]
name = _("Z axis")
type = sub-header

[PARAM_B_Z]
name = _("Begin")
type = float
icon = z.png
value = 0.0
metric_value = 0.0
header = hz

[PARAM_E_Z]
name = _("End")
type = float
icon = z-end.png
value = -1.0
metric_value = -25.0
header = hz

[PARAM_HF]
name = _("Finishing")
type = sub-header

[PARAM_FIN]
name = _("Number of passes")
icon = finish.png
type = int
value = 1
minimum_value = 0
tool_tip = _("Or spring passes")
header = hf

[CALL]
content =
	(begin #sub_name)
	(author : Fernand Veilleux)
	
	o<#self_id_act> if [#param_act]
		o<#self_id1> if [#<_lathe_diameter_mode>]
			o<line> CALL [#param_b_z + #param_e_z] [#param_e_x / 2] [#param_b_z] [#param_b_x / 2]
		o<#self_id1> else		
			o<line> CALL [#param_b_z + #param_e_z] [#param_e_x] [#param_b_z] [#param_b_x]
		o<#self_id1> endif
		
		o<taper> CALL [#param_b_x] [#param_e_x] [#param_b_z] [#<_line_phi>] [#param_fin]
	o<#self_id_act> endif
	
	(end #sub_name)
